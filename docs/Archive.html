<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Class: Archive</title>
    
    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">
    
    <h1 class="page-title">Class: Archive</h1>
    
    



<section>
    
<header>
    <h2>
    Archive
    </h2>
    
</header>  

<article>
    <div class="container-overview">
    
    
    
        
<dt>
    <h4 class="name" id="Archive"><span class="type-signature"></span>new Archive<span class="signature">()</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        An object representing an OpenTok archive.
<p>
Do not call the <code>new()</code> constructor. To start recording an archive, call the
<a href="OpenTok.html#startArchive">OpenTok.startArchive()</a> method.
    </div>
    

    
    
    
    
    
    
    
<dl class="details">
    
        
        <h5 class="subsection-title">Properties:</h5>
        
        <dl>

<table class="props">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>createdAt</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">Number</span>


            
            </td>
            
            
            
            
            
            <td class="description last">The time at which the archive was created, in milliseconds since the UNIX epoch.</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>duration</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>
            
            
            
            
            
            <td class="description last">The duration of the archive, in milliseconds.</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>id</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>
            
            
            
            
            
            <td class="description last">The archive ID.</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>name</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>
            
            
            
            
            
            <td class="description last">The name of the archive. If no name was provided when the archive was created, this is set
  to null.</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>partnerId</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>
            
            
            
            
            
            <td class="description last">The API key associated with the archive.</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>reason</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>
            
            
            
            
            
            <td class="description last">For archives with the status "stopped", this can be set to "90 mins exceeded", "failure",
  "session ended", or "user initiated". For archives with the status "failed", this can be set
  to "system failure".</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>sessionId</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>
            
            
            
            
            
            <td class="description last">The session ID of the OpenTok session associated with this archive.</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>size</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">Number</span>


            
            </td>
            
            
            
            
            
            <td class="description last">The size of the MP4 file. For archives that have not been generated, this value is set to 0.</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>status</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>
            
            
            
            
            
            <td class="description last">The status of the archive, which can be one of the following:
  <ul>
    <li> "available" -- The archive is available for download from the OpenTok cloud.
    <li> "expired" -- The archive is no longer available for download from the OpenTok cloud.
    <li> "failed" -- The archive recording failed.
    <li> "paused" -- The archive is in progress and no clients are publishing streams to
       the session. When an archive is in progress and any client publishes a stream,
       the status is "started". When an archive is "paused", nothing is recorded. When
       a client starts publishing a stream, the recording starts (or resumes). If all clients
       disconnect from a session that is being archived, the status changes to "paused", and
       after 60 seconds the archive recording stops (and the status changes to "stopped").</li>
    <li> "started" -- The archive started and is in the process of being recorded.
    <li> "stopped" -- The archive stopped recording.
    <li> "uploaded" -- The archive is available for download from the the upload target
         Amazon S3 bucket or Windows Azure container you set up at the
         <a href="https://dashboard.tokbox.com">OpenTok dashboard</a>.
  </ul></td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>hasAudio</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">Boolean</span>


            
            </td>
            
            
            
            
            
            <td class="description last">Whether the archive has an audio track (<code>true</code>) or not (<code>false</code>).
  You can prevent audio from being recorded by setting <code>hasAudio</code> to <code>false</code>
  in the <code>options</code> parameter you pass into the
  <a href="OpenTok.html#startArchive">OpenTok.startArchive()</a> method.</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>hasAudio</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">Boolean</span>


            
            </td>
            
            
            
            
            
            <td class="description last">Whether the archive has an video track (<code>true</code>) or not (<code>false</code>).
  You can prevent video from being recorded by setting <code>hasVideo</code> to <code>false</code>
  in the <code>options</code> parameter you pass into the
  <a href="OpenTok.html#startArchive">OpenTok.startArchive()</a> method.</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>outputMode</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>
            
            
            
            
            
            <td class="description last">The output mode to be generated for this archive, which can be one of the following:
  <ul>
    <li> "composed" -- All streams in the archive are recorded to a single (composed) file.
    <li> "individual" -- Each stream in the archive is recorded to its own individual file.
  </ul>

  See the <a href="OpenTok.html#startArchive">OpenTok.startArchive()</a> method.</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>url</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>
            
            
            
            
            
            <td class="description last">The download URL of the available MP4 file. This is only set for an archive with the status set to
  "available"; for other archives, (including archives with the status "uploaded") this property is
  set to null. The download URL is obfuscated, and the file is only available from the URL for
  10 minutes. To generate a new URL, call the <a href="OpenTok.html#getArchive">OpenTok.getArchive()</a> or
  <a href="OpenTok.html#listArchives">OpenTok.listArchives()</a> method.</td>
        </tr>
	
	
	</tbody>
</table></dl>
        
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="archiving.js.html">archiving.js</a>, <a href="archiving.js.html#line9">line 9</a>
    </li></ul></dd>
    
    
    
    
    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li><a href="OpenTok.html#deleteArchive">OpenTok.deleteArchive()</a></li>
        
            <li><a href="OpenTok.html#getArchive">OpenTok.getArchive()</a></li>
        
            <li><a href="OpenTok.html#startArchive">OpenTok.startArchive()</a></li>
        
            <li><a href="OpenTok.html#stopArchive">OpenTok.stopArchive()</a></li>
        
            <li><a href="OpenTok.html#listArchives">OpenTok.listArchives()</a></li>
        </ul>
    </dd>
    
    
    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

    
    </div>
    
    
    
    
    
    
    
    
    
    
    
    
    
    
        <h3 class="subsection-title">Methods</h3>
        
        <dl>
            
<dt>
    <h4 class="name" id="delete"><span class="type-signature"></span>delete<span class="signature">(callback)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        Deletes the OpenTok archive.
<p>
You can only delete an archive which has a status of "available" or "uploaded". Deleting an
archive removes its record from the list of archives. For an "available" archive, it also
removes the archive file, making it unavailable for download.
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>callback</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>
            
            
            
            
            
            <td class="description last">The function to call upon completing the operation. On successfully
deleting the archive, the function is called with no arguments passed in. On failure, an error
object is passed into the function.</td>
        </tr>
	
	
	</tbody>
</table>
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="archiving.js.html">archiving.js</a>, <a href="archiving.js.html#line135">line 135</a>
    </li></ul></dd>
    
    
    
    
    
    
    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="stop"><span class="type-signature"></span>stop<span class="signature">(callback)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        Stops the recording of the archive.
<p>
Archives automatically stop recording after 90 minutes or when all clients have disconnected
from the session being archived.
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>callback</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>
            
            
            
            
            
            <td class="description last">The function to call upon completing the operation. Two arguments
are passed to the function:

<ul>

  <li>
     <code>error</code> &mdash; An error object (if the call to the method fails).
  </li>

  <li>
      <code>archive</code> &mdash; The Archive object.
  </li>

</ul></td>
        </tr>
	
	
	</tbody>
</table>
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="archiving.js.html">archiving.js</a>, <a href="archiving.js.html#line107">line 107</a>
    </li></ul></dd>
    
    
    
    
    
    
    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        </dl>
    
    
    
    
    
</article>

</section>  




</div>

<nav>
    <h2><a href="index.html">Index</a></h2><h3>Classes</h3><ul><li><a href="Archive.html">Archive</a></li><li><a href="OpenTok.html">OpenTok</a></li></ul><h3><a href="global.html">Global</a></h3>
</nav>

<br clear="both">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.2.2</a> on Mon May 25 2015 14:53:59 GMT-0700 (PDT)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>